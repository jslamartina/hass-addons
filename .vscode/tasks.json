{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Lint: All",
      "dependsOn": [
        "Lint: Prettier",
        "Lint: Ruff",
        "Lint: ShellCheck",
        "Lint: Pyright"
      ],
      "problemMatcher": [],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "Lint: Prettier",
      "type": "shell",
      "command": "npx prettier --ignore-path .prettierignore --check '**/*.{js,jsx,ts,tsx,json,yaml,yml,sh}' 2>&1 | sed 's/\\x1b\\[[0-9;]*m//g' | grep -vE '^(panic:|Checking formatting|\\[warn\\] Code style)' | sed -n '/^\\[warn\\] /s/^\\[warn\\] \\(.*\\)$/\\1:1:0: Code style issues found. Run npm run format to fix./p' || true",
      "problemMatcher": {
        "owner": "prettier-ci",
        "source": "prettier-ci",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "severity": "warning",
        "pattern": {
          "regexp": "^(.+):(\\d+):(\\d+):\\s+(.+)$",
          "file": 1,
          "line": 2,
          "column": 3,
          "message": 4
        }
      },
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "Lint: Ruff",
      "type": "shell",
      "command": "ruff check . --output-format=concise 2>&1 | sed 's/\\x1b\\[[0-9;]*m//g' || true",
      "problemMatcher": {
        "owner": "ruff-ci",
        "source": "ruff-ci",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "severity": "warning",
        "pattern": {
          "regexp": "^(.+):(\\d+):(\\d+):\\s+(\\w+)(?:\\s+\\[\\*\\])?\\s+(.+)$",
          "file": 1,
          "line": 2,
          "column": 3,
          "code": 4,
          "message": 5
        }
      },
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "Lint: Pyright",
      "type": "shell",
      "command": "${workspaceFolder}/.vscode/scripts/lint-pyright.py || true",
      "problemMatcher": {
        "owner": "pyright-ci",
        "source": "pyright-ci",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "severity": "warning",
        "pattern": {
          "regexp": "^\\s*(.+):(\\d+):(\\d+) - (error|warning|information):\\s+(.+?)(?:\\s+\\(([^)]+)\\))?$",
          "file": 1,
          "line": 2,
          "column": 3,
          "severity": 4,
          "message": 5,
          "code": 6
        }
      },
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "Lint: ShellCheck",
      "type": "shell",
      "command": "${workspaceFolder}/.vscode/scripts/lint-shellcheck.py",
      "problemMatcher": {
        "owner": "shellcheck-ci",
        "source": "shellcheck-ci",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "severity": "warning",
        "pattern": {
          "regexp": "^([^:]+):(\\d+):(\\d+):\\s+\\[.*\\]\\s+(.+)$",
          "file": 1,
          "line": 2,
          "column": 3,
          "message": 4
        }
      },
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "Lint: All (Fix)",
      "dependsOn": [
        "Lint: Prettier (Fix)",
        "Lint: Ruff (Fix)",
        "Lint: ShellCheck (Fix)"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "Lint: Prettier (Fix)",
      "type": "shell",
      "command": "npx prettier --ignore-path .prettierignore --write '**/*.{js,jsx,ts,tsx,json,yaml,yml,sh}'",
      "problemMatcher": [],
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "Lint: Ruff (Fix)",
      "type": "shell",
      "command": "ruff check . --fix",
      "problemMatcher": [],
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "Lint: ShellCheck (Fix)",
      "type": "shell",
      "command": "echo 'Note: ShellCheck does not support auto-fix. Please manually fix issues reported by Lint: ShellCheck.'",
      "problemMatcher": [],
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    }
  ]
}
