Only 5 [3 HTTP/BT, 2 BT] Cync Devices connected; 1 Cync Android App, 2 Wi-Fi/BT and 2 BT only. 
All HTTP devices are redirected to their own `socat` MITM instance.

| Device | Type                                    | ID  | IP          | MAC               |
|-----|-----------------------------------------|-----|-------------|-------------------|
| 1 | BT bulb                                 | 2   | N/A         | 78:6D:EB:28:EA:30 |
| 2 | BT bulb                                 | 3   | N/A         | 78:6D:EB:28:D4:D1 |
| 3 | Wi-Fi/BT Plug                           | 5   | 10.0.2.211  | 34:13:43:70:D8:C7 |
| 4 | Wi-Fi/BT Direct Connect Full Color A19 RGBW Bulb | 7   | 10.0.2.215  | 78:6D:EB:E0:1C:90 |
| 5 | Android Cync App                       | N/A | 10.0.1.2    | D2:F8:70:D6:EB:4D |

# Wi-Fi Bulb
The bulb is a BT 'slave/client' device connected to the plug via BT
- Bulb is connected to plug via BT mesh
- `<` is the server to plug
- `>` is the plug to server

```text
# device sends auth code to server
> 2024/03/11 00:14:18.000813563  length=31 from=0 to=30
 23 00 00 00 1a 03 39 87 c8 57 00 10 31 65 30 37  #.....9..W..1e07
  00 00 3c     ..<
--
# server acks auth code
< 2024/03/11 00:14:18.000916928  length=7 from=0 to=6
 28 00 00 00 02 00 00                             (......
--
# device sends 3 packets to server
> 2024/03/11 00:14:22.000742456  length=356 from=31 to=386
 83 00 00 00 25 39 87 c8 57 00 01 00 7e 00 00 00  ....%9..W...~...
 00 fa db 13 00 33 22 11 07 00 07 00 db 11 02 01  .....3".........
 01 64 64 ff ff ff 00 00 17 7e |43 00 00 00 fe 39  .dd......~C....9
 87 c8 57 01 01 06 05 00 10 07 01 64 64 ff ff ff  ..W........dd...
 01 00 07 00 00 00 00 00 00 06 00 10 05 00 00 00  ................
 00 00 00 01 14 07 00 00 00 00 00 00 07 00 10 c7  ................
 00 00 00 00 00 00 00 14 07 00 00 00 00 00 00 08  ................
 00 10 31 01 64 0e 00 00 00 00 14 07 00 00 00 00  ..1.d...........
 00 00 09 00 10 24 01 64 0e 00 00 00 00 14 07 00  .....$.d........
 00 00 00 00 00 0a                                ......
 00 10 dc 00 00 00 00 00 00 00 14 07 00 00 00 00  ................
 00 00 0b 00 10 06 01 64 00 00 00 00 00 14 07 00  .......d........
 00 00 00 00 00 0c 00 10 04 01 64 00 00 00 00 00  ..........d.....
 14 07 00 00 00 00 00 00 0d 00 10 90 01 64 0e 00  .............d..
 00 00 00 14 07 00 00 00 00 00 00 0e 00 10 09 01  ................
 64 40 00 00 00 00 14 07 00 00 00 00 00 00 0f 00  d@..............
 10 08 00 00 24 00 00 00 00 14 07 00 00 00 00 00  ....$...........
 00 10 00 10 9e 01 64 0e 00 00 00 00 14 07 00 00  ......d.........
 00 00 00 00 11 00 10 0a                          ........
 01 64 40 00 00 00 00 14 07 00 00 00 00 00 00 |83  .d@.............
 00 00 00 32 39 87 c8 57 00 02 00 00 00 00 00 00  ...29..W........
 fa 00 20 00 00 00 00 00 00 00 00 ea 00 00 00 86  .. .............
 01 00 30 00 00 00 00 00 00 00 00 00 00 00 00 00  ..0.............
 00 00 00 00 c1 7e                                .....~
--
# device sends some sort of connection packet
> 2024/03/11 00:14:22.000831259  length=6 from=387 to=392
 c3 00 00 00 01 0c                                ......
--
# server acks 3 packets
< 2024/03/11 00:14:22.000836581  length=24 from=7 to=30
 88 00 00 00 03 00 01 00 |48 00 00 00 03 01 01 00  ........H.......
 88 00 00 00 03 00 02 00                          ........
--
# server acks conn packet
< 2024/03/11 00:14:22.000916437  length=16 from=31 to=46
 c8 00 00 00 0b 0d 07 e8 03 0b 02 01 0e 16 fe 0c  ................
--
# device sends firmware version (10361 = 1.0.361 in app)
> 2024/03/11 00:14:27.000564772  length=55 from=393 to=447
 83 00 00 00 32 39 87 c8 57 00 03 00 00 00 00 00  ....29..W.......
 00 fa 00 20 00 00 00 00 00 00 00 00 ea 00 00 00  ... ............
 86 01 01 31 30 33 36 31 00 00 00 00 00 00 00 00  ...10361........
 00 00 00 00 00 8d 7e                             ......~
--
< 2024/03/11 00:14:27.000644519  length=8 from=47 to=54
 88 00 00 00 03 00 03 00                          ........
--
> 2024/03/11 00:14:31.000150363  length=57 from=448 to=504
 43 00 00 00 34 39 87 c8 57 01 01 06 c7 90 2a 32  C...49..W.....*2
 30 32 34 30 33 31 31 3a 30 30 31 34 3a 2d 35 33  0240311:0014:-53
 2c 30 30 30 30 30 2c 30 30 30 30 30 2c 30 30 30  ,00000,00000,000
 30 30 2c 30 30 30 30 30 2c                       00,00000,
--
< 2024/03/11 00:14:31.000229080  length=8 from=55 to=62
 48 00 00 00 03 01 01 00                          H.......
--
# possibly sending info about connected devices?
> 2024/03/11 00:14:42.000587452  length=31 from=505 to=535
 43 00 00 00 1a 39 87 c8 57 01 01 06 06 00 10 03  C....9..W.......
 00 00 32 00 00 00 01 ff 07 00 00 00 00 00 00     ..2............
--
< 2024/03/11 00:14:42.000666517  length=8 from=63 to=70
 48 00 00 00 03 01 01 00                          H.......
--
> 2024/03/11 00:14:43.000525864  length=31 from=536 to=566
 43 00 00 00 1a 39 87 c8 57 01 01 06 06 00 10 02  C....9..W.......
 00 00 32 00 00 00 01 ff 07 00 00 00 00 00 00     ..2............
--
< 2024/03/11 00:14:43.000605418  length=8 from=71 to=78
 48 00 00 00 03 01 01 00                          H.......
--
# ???
> 2024/03/11 00:14:50.000185703  length=43 from=567 to=609
 83 00 00 00 26 39 87 c8 57 00 04 00 7e 00 00 00  ....&9..W...~...
 00 fa db 14 00 |f3 03 00 05 00 ff ff ea 11 02 05  ................
 a1 01 03 01 00 00 00 00 00 |90 7e                 ..........~
 # the next msg like this
 00 fa db 14 00 |f5 03 00 05 00 ff ff ea 11 02 05  ................
 a1 01 03 01 00 00 00 00 00 |92 7e                 ..........~
 # last byte is checksum it incremented by 2 like f3>f5
 # f3>f5 is the msg id or incremental byte
--
< 2024/03/11 00:14:50.000264325  length=8 from=79 to=86
 88 00 00 00 03 00 04 00                          ........
--
# ping
> 2024/03/11 00:15:11.000133081  length=5 from=610 to=614
 d3 00 00 00 00                                   .....
--
# pong
< 2024/03/11 00:15:11.000211612  length=5 from=87 to=91
 d8 00 00 00 00                                   .....
--
> 2024/03/11 00:15:32.000036003  length=5 from=615 to=619
 d3 00 00 00 00                                   .....
--
< 2024/03/11 00:15:32.000115142  length=5 from=92 to=96
 d8 00 00 00 00                                   .....
--
> 2024/03/11 00:15:53.000109607  length=5 from=620 to=624
 d3 00 00 00 00                                   .....
--
< 2024/03/11 00:15:53.000193186  length=5 from=97 to=101
 d8 00 00 00 00                                   .....
--
> 2024/03/11 00:16:13.000141905  length=43 from=625 to=667
 83 00 00 00 26 39 87 c8 57 00 05 00 7e 00 00 00  ....&9..W...~...
 00 fa db 14 00 f5 03 00 05 00 ff ff ea 11 02 05  ................
 a1 01 03 01 00 00 00 00 00 92 7e                 ..........~
--
< 2024/03/11 00:16:13.000250859  length=8 from=102 to=109
 88 00 00 00 03 00 05 00                          ........
--
# plug being turned on, the server rebroadcasts a 0x43 status packet to all connected devices
> 2024/03/11 00:16:20.000548716  length=31 from=668 to=698
 43 00 00 00 1a 39 87 c8 57 01 01 06 06 00 10 05  C....9..W.......
 01 64 00 00 00 00 01 14 07 00 00 00 00 00 00     .d.............
--
< 2024/03/11 00:16:20.000627355  length=8 from=110 to=117
 48 00 00 00 03 01 01 00                          H.......
--
> 2024/03/11 00:16:23.000695436  length=31 from=699 to=729
 43 00 00 00 1a 39 87 c8 57 01 01 06 06 00 10 05  C....9..W.......
 00 00 00 00 00 00 01 14 07 00 00 00 00 00 00     ...............
--
< 2024/03/11 00:16:23.000783342  length=8 from=118 to=125
 48 00 00 00 03 01 01 00                          H.......
--
> 2024/03/11 00:16:27.000689243  length=31 from=730 to=760
 43 00 00 00 1a 39 87 c8 57 01 01 06 06 00 10 05  C....9..W.......
 01 64 00 00 00 00 01 14 07 00 00 00 00 00 00     .d.............
--
< 2024/03/11 00:16:27.000786067  length=8 from=126 to=133
 48 00 00 00 03 01 01 00                          H.......
--
> 2024/03/11 00:16:30.000650515  length=31 from=761 to=791
 43 00 00 00 1a 39 87 c8 57 01 01 06 06 00 10 05  C....9..W.......
 00 00 00 00 00 00 01 14 07 00 00 00 00 00 00     ...............
--
< 2024/03/11 00:16:30.000743450  length=8 from=134 to=141
 48 00 00 00 03 01 01 00                          H.......
--
> 2024/03/11 00:16:33.000537965  length=31 from=792 to=822
 43 00 00 00 1a 39 87 c8 57 01 01 06 06 00 10 05  C....9..W.......
 01 64 00 00 00 00 01 14 07 00 00 00 00 00 00     .d.............
--
< 2024/03/11 00:16:33.000616422  length=8 from=142 to=149
 48 00 00 00 03 01 01 00                          H.......
--
> 2024/03/11 00:16:37.000631177  length=31 from=823 to=853
 43 00 00 00 1a 39 87 c8 57 01 01 06 06 00 10 05  C....9..W.......
 00 00 00 00 00 00 01 14 07 00 00 00 00 00 00     ...............
--
< 2024/03/11 00:16:37.000711000  length=8 from=150 to=157
 48 00 00 00 03 01 01 00                          H.......
--
> 2024/03/11 00:16:58.000176896  length=5 from=854 to=858
 d3 00 00 00 00                                   .....
--
< 2024/03/11 00:16:58.000259143  length=5 from=158 to=162
 d8 00 00 00 00                                   .....
--
> 2024/03/11 00:17:19.000255326  length=5 from=859 to=863
 d3 00 00 00 00                                   .....
--
< 2024/03/11 00:17:19.000334131  length=5 from=163 to=167
 d8 00 00 00 00                                   .....
--
> 2024/03/11 00:17:40.000228321  length=5 from=864 to=868
 d3 00 00 00 00                                   .....
--
< 2024/03/11 00:17:40.000307340  length=5 from=168 to=172
 d8 00 00 00 00                                   .....
--
```









