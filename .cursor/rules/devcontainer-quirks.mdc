---
description: Devcontainer quirks and setup
---

# Devcontainer Essentials

Read `.devcontainer/README.md` first; supervisor + Docker already managed.

## Docker Management

- **Never start Docker manually** - `supervisor_run` handles lifecycle
- Docker is managed by supervisor
- Manual Docker start causes conflicts

## Backup Restore

- Backup restore in `post-start.sh` is currently **disabled**
- See lines 131-216 in `.devcontainer/post-start.sh`
- Only re-enable after thorough testing

## Supervisor API Access

Scripts needing Supervisor API must run via `ha` CLI or `docker exec hassio_cli ...`.

**Why:** `supervisor` hostname is not reachable from devcontainer shell. See `supervisor-api-access.mdc` for details.

## Credentials

- Home Assistant: `http://localhost:8123`
- Username: `dev`, Password: `dev`
- See `hass-credentials.env`

## Quick Start

For fresh HA setup with EMQX and Cync Controller:

```bash
cd scripts
./setup-fresh-ha.sh  # Automated onboarding, EMQX install, addon config
```

## Related

- `supervisor-api-access.mdc` - How to access Supervisor API
- `critical-docker.mdc` - Docker handling rules
- `common-commands.mdc` - Command reference
