---
alwaysApply: true
---

# MCP Tools Guide

The devcontainer provides Model Context Protocol (MCP) servers for specialized development tasks.

## Available Tools & When to Use

### ğŸ **Python Execution** (`mcp_python_*`)

**When to use:**
- âœ… Running quick Python scripts for analysis
- âœ… Testing Python code snippets
- âœ… Automating file operations (read/write/list)
- âœ… Processing data or logs

**Example:**
```bash
# Analyze a Python file
mcp_python_run_python_code("import ast; tree = ast.parse(open('file.py').read())")
```

### ğŸ³ **Docker Management** (`mcp_docker_*`)

**When to use:**
- âœ… Checking container status/logs
- âœ… Building Docker images
- âœ… Managing containers (start/stop/remove)
- âœ… Debugging add-on containers

**Example:**
```bash
# Check addon logs
mcp_docker_fetch_container_logs("addon_local_cync-controller")
```

### ğŸ”§ **Git Operations** (`mcp_git_*`)

**When to use:**
- âœ… Checking git status and diffs
- âœ… Committing changes with messages
- âœ… Viewing commit history
- âœ… Branch management

**Example:**
```bash
# Commit changes
mcp_git_git_commit("repo_path: /workspaces/hass-addons, message: 'Fix token creation'")
```

### ğŸŒ **Web Fetching** (`mcp_web_fetch_*`)

**When to use:**
- âœ… Fetching current documentation or specs
- âœ… Looking up API documentation
- âœ… Getting latest protocol information
- âœ… Research current best practices

**Don't use for:**
- âŒ Searching the codebase (use codebase_search)
- âŒ Reading project files (use read_file)

### â° **Time Operations** (`mcp_time_*`)

**When to use:**
- âœ… Converting between timezones
- âœ… Getting current time for scripts
- âœ… Calculating timestamps for documentation

### ğŸ“ **Filesystem Operations** (`mcp_filesystem_*`)

**When to use:**
- âœ… Reading/writing files across the workspace
- âœ… Creating directories
- âœ… Moving/renaming files
- âœ… Listing directories with sizes

**Preferred over:**
- Plain shell commands when file operations are needed

## Tool Usage Priorities

1. **Use specialized MCP tools first** - They're faster and provide better context
2. **Use grep/search for exact matches** - More efficient than Python parsing
3. **Use terminal commands** - Only when MCP tools can't do it
4. **Use web search sparingly** - Prefer codebase search and local knowledge

## Common Patterns

### Checking Addon Status
```bash
# Use Docker tool
mcp_docker_fetch_container_logs("addon_local_cync-controller", tail: 50)
```

### Reading Project Files
```bash
# Use filesystem tool
mcp_filesystem_read_text_file("path/to/file.py")
```

### Analyzing Code
```bash
# Use Python tool
mcp_python_run_python_code("import ast; ...")
```

### Finding Patterns
```bash
# Use grep tool
grep("pattern", "path/to/search")
```

### Searching Codebase
```bash
# Use codebase_search for semantic understanding
codebase_search(query: "How does token creation work?", target_directories: ["scripts"])
```

## Troubleshooting

If an MCP tool fails:
1. Check tool parameters are correct
2. Try alternative tool (e.g., shell command instead)
3. Continue gracefully with available information
4. Note the limitation for future runs

**Important:** If MCP tools fail, standard tools (grep, terminal commands) are always available as fallback.

## Related

- [AGENTS.md](mdc:AGENTS.md) - Full MCP documentation reference
- [docs/developer/mcp-tools.md](mdc:docs/developer/mcp-tools.md) - Detailed MCP guide
