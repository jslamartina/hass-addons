---
alwaysApply: true
description: Quick reference for most common daily development tasks
---

# Daily Development Cheatsheet

## The 4-Step Workflow

```bash
# 1. Edit code
# 2. Lint & fix
npm run lint:python:fix && npm run format:python

# 3. Rebuild (Python) or Restart (config/scripts)
cd cync-controller && ./rebuild.sh  # Python changes
ha addons restart local_cync-controller  # Config/scripts only

# 4. Verify
ha addons logs local_cync-controller --follow
```

## Most Common Commands

### Linting (Run After Every Edit)
```bash
npm run lint:python:fix && npm run format:python
npm run lint  # Check everything
```

### Build & Restart
```bash
# Python changes → REBUILD
cd cync-controller && ./rebuild.sh

# Config/script changes → RESTART
ha addons restart local_cync-controller

# When in doubt → REBUILD (safer)
```

### View Logs
```bash
ha addons logs local_cync-controller --follow
ha addons logs local_cync-controller | grep -i error
ha addons logs local_cync-controller --follow | grep "Hallway"
```

### Check Status
```bash
ha addons info local_cync-controller
ha core info
```

## Common Workflows

### Test Entity Rediscovery
```bash
cd cync-controller && ./rebuild.sh
sudo python3 scripts/delete-mqtt-safe.py --restart
```

### Configure Add-on
```bash
./scripts/configure-addon.sh get
./scripts/configure-addon.sh preset-baseline
```

### Fresh Setup
```bash
./scripts/setup-fresh-ha.sh
```

## When to Rebuild vs Restart

| Change Type          | Action      | Command                                   |
| -------------------- | ----------- | ----------------------------------------- |
| Python files (`.py`) | **REBUILD** | `cd cync-controller && ./rebuild.sh`      |
| `config.yaml`        | Restart     | `ha addons restart local_cync-controller` |
| `run.sh`             | Restart     | `ha addons restart local_cync-controller` |
| `static/*` (HTML)    | Restart     | `ha addons restart local_cync-controller` |
| When unsure          | **REBUILD** | `cd cync-controller && ./rebuild.sh`      |
