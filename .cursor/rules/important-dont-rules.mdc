---
alwaysApply: true
---

# Critical DON'Ts

These guardrails prevent silent breakages—follow them.

- **Commands:** never skip callback registration or ACK handling; otherwise devices ignore commands.
- **State refresh:** don't mark devices offline immediately—use `offline_count` thresholds to avoid cascading refresh storms.
- **Credentials:** never hardcode IPs, usernames, or tokens; use config/env/discovery.
- **Python edits:** restart ≠ rebuild. Always run `cd cync-controller && ./rebuild.sh` after linting.
- **Linting:** do not merge code with lint errors; run `npm run lint` and fix everything.
- **Docker:** do not start Docker manually in devcontainer scripts; supervisor already does it.
- **Backups:** don't change backup restore logic without testing per `.devcontainer/README.md`.

See `AGENTS.md` and `CONTRIBUTING.md` for full context.
